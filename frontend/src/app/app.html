<div class="mall-app">
  <!-- Header avec navigation -->
  <app-header />

  <!-- Contenu principal -->
  <main class="main-content">
    <!-- Page d'accueil -->
    <div *ngIf="currentView === 'home'" class="home-page">
      <div class="hero-section">
        <h1>ğŸ¬ Bienvenue au Centre Commercial</h1>
        <p class="hero-subtitle">DÃ©couvrez nos boutiques et services</p>
        
        <!-- Actions selon le statut de connexion -->
        <div class="hero-actions" *ngIf="!isLoggedIn">
          <p>Connectez-vous pour accÃ©der Ã  toutes les fonctionnalitÃ©s</p>
        </div>
        
        <!-- Navigation pour utilisateurs connectÃ©s -->
        <div class="user-dashboard" *ngIf="isLoggedIn && currentUser">
          <h2>ğŸ‘‹ Bonjour {{ currentUser.prenom }} !</h2>
          <p>Que souhaitez-vous faire aujourd'hui ?</p>
          
          <div class="dashboard-actions">
            <!-- Actions pour les commerÃ§ants -->
            <div *ngIf="currentUser.role === 'boutique'" class="role-actions">
              <button class="action-btn boutique-btn" (click)="setView('my-boutiques')">
                ğŸª Mes Boutiques
              </button>
              <button class="action-btn register-btn" (click)="setView('boutique-registration')">
                â• Nouvelle Boutique
              </button>
            </div>
            
            <!-- Actions pour les admins -->
            <div *ngIf="currentUser.role === 'admin'" class="role-actions">
              <button class="action-btn admin-btn" (click)="setView('admin-boutiques')">
                ğŸ‘¨â€ğŸ’¼ Gestion Boutiques
              </button>
            </div>
            
            <!-- Actions communes -->
            <button class="action-btn notification-btn" (click)="setView('notifications')">
              ğŸ”” Notifications
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Notifications -->
    <div *ngIf="currentView === 'notifications' && canViewNotifications()">
      <div class="page-header">
        <button class="back-btn" (click)="setView('home')">â† Retour</button>
        <h2>ğŸ”” Notifications</h2>
      </div>
      <app-notifications />
    </div>

    <!-- Gestion Admin des Boutiques -->
    <div *ngIf="currentView === 'admin-boutiques' && canViewAdminBoutiques()">
      <div class="page-header">
        <button class="back-btn" (click)="setView('home')">â† Retour</button>
        <h2>ğŸ‘¨â€ğŸ’¼ Gestion des Boutiques</h2>
      </div>
      <app-admin-boutiques />
    </div>

    <!-- Inscription Boutique -->
    <div *ngIf="currentView === 'boutique-registration' && canViewBoutiqueRegistration()">
      <div class="page-header">
        <button class="back-btn" (click)="setView('home')">â† Retour</button>
        <h2>ğŸ“ Inscription Boutique</h2>
      </div>
      <app-boutique-registration />
    </div>

    <!-- Mes Boutiques -->
    <div *ngIf="currentView === 'my-boutiques' && canViewMyBoutiques()">
      <div class="page-header">
        <button class="back-btn" (click)="setView('home')">â† Retour</button>
        <h2>ğŸª Mes Boutiques</h2>
      </div>
      <app-my-boutiques />
    </div>

    <!-- Message d'accÃ¨s refusÃ© -->
    <div *ngIf="!isLoggedIn && currentView !== 'home'" class="access-denied">
      <h2>ğŸ”’ AccÃ¨s RefusÃ©</h2>
      <p>Vous devez Ãªtre connectÃ© pour accÃ©der Ã  cette page.</p>
      <button class="btn-primary" (click)="setView('home')">
        Retour Ã  l'accueil
      </button>
    </div>
  </main>

  <!-- Footer -->
  <app-footer />
</div>